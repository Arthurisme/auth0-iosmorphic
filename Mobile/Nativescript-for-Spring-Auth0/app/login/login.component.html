




<ActionBar title="Groceries">



  <!--<Button text="&#xf1e0; Test" tap="{{ tapAction }}" class="font-awesome" />-->
  <!--<ActionItem class="fa" text="{{'fa-bluetooth' | fonticon}}" (tap)="navigateService.goToPing()"   ios.position="right"></ActionItem>-->
  <!--<ActionItem text="&#xf1e0; Test"   class="font-awesome" (tap)="navigateService.goToModuleA()"   ios.position="right"></ActionItem>-->
  <!--<ActionItem text="Groceres" (tap)="navigateService.goToGroceries()" android.systemIcon="ic_menu_share_holo_dark" ios.systemIcon="7" ios.position="right"></ActionItem>-->


  <ActionItem text="ping" (tap)="navigateService.goToPing()"   ios.position="right"></ActionItem>
  <ActionItem text="ModuleA" (tap)="navigateService.goToModuleA()"  ios.position="right"></ActionItem>
  <ActionItem text="Groceres" (tap)="navigateService.goToGroceries()"   ios.position="right"></ActionItem>
  <ActionItem text="Action" (tap)="navigateService.showMenu()" icon="res://menu" stretch="none"  ios.position="right"></ActionItem>

</ActionBar>




<GridLayout>

  <GridLayout #background
    scaleX="1.4"
    scaleY="1.4"
    class="background"
    (loaded)="startBackgroundAnimation(background)"></GridLayout>

  <StackLayout #initialContainer
    class="initial-container">
    <Image
      src="res://logo_login"
      stretch="none"
      class="initial-logo"></Image>
    <Label
      text="GROCERIES"
      class="initial-label"></Label>

    <arthur-my-custom></arthur-my-custom>

    <StackLayout
       class="initial-button">
      <Label
        (tap)="showMainContent()"
        text="Login"
        class="initial-button-label"></Label>
    </StackLayout>

    <StackLayout
            (tap)="navigateService.goToPing()"
            class="initial-button">
      <Label
              text="Go to Ping"
              class="initial-button-label"></Label>
    </StackLayout>
  </StackLayout>

  <StackLayout #mainContainer
    class="main-container">
    <Label
      class="main-label"
      text="GROCERIES"
      [color]="isLoggingIn? 'black' : 'white'"></Label>

    <GridLayout #formControls
      class="form-controls"
      rows="auto, auto"
      translateY="50">
      <TextField #email
        hint="Email Address"
        keyboardType="email"
        returnKeyType="next"
        (returnPress)="focusPassword()"
        [(ngModel)]="user.email"
        [isEnabled]="!isAuthenticating"
        autocorrect="false"
        autocapitalizationType="none"
        row="0"></TextField>
      <TextField #password
        hint="Password"
        secure="true"
        returnKeyType="done"
        (returnPress)="submit()"
        [(ngModel)]="user.password"
        [isEnabled]="!isAuthenticating"
        row="1"></TextField>

      <ActivityIndicator
        [busy]="isAuthenticating"
        rowSpan="2"></ActivityIndicator>
    </GridLayout>

    <Button
      [text]="isLoggingIn ? 'Login' : 'Sign up'"
      [isEnabled]="!isAuthenticating"
      class="submit-button"
      (tap)="submit()"></Button>

    <Button
            text="Go to Ping"
            class="submit-button"
            (tap)="navigateService.goToPing()"></Button>

    <Label
      class="forgot-password-label"
      text="Forgot password?"
      (tap)="forgotPassword()"
      [opacity]="isLoggingIn ? 1 : 0"></Label>

    <StackLayout #signUpStack
      class="sign-up-stack"
      (tap)="toggleDisplay()"
      translateY="50">
      <Label
        [text]="isLoggingIn ? 'Sign up here' : 'Back to login'"></Label>
    </StackLayout>
  </StackLayout>

  <!-- The fruit logo that appears within the container -->
  <AbsoluteLayout #logoContainer
    class="logo-container">
    <Image
      src="res://logo_login"
      stretch="none"></Image>
  </AbsoluteLayout>

</GridLayout>